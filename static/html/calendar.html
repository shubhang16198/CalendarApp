<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<head>
    <title>CalendarApp</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="./../css/calendar.css" rel="stylesheet" type="text/css" />
    <link href="./../css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
    <script src="../js/sidebar.js"></script>
</head>
<body>
<table cellspacing="0" cellpadding="0" style="height: 100%; width: 100%; position: absolute; top: 0; bottom: 0; left: 0; right: 0;">
        <td id="sidebar" width="15%">
            <div id="sidebar">
                <div id="date-today" align="center" style="font-family: Arial, Helvetica, sans-serif; font-size: 50px;">
                    <span id="time"></span>
                    <script>
                        function updateClock() {
                            var now = new Date();
                            var time = gettime(now);
                            var ampm = getAMPM(now);
                            var x = document.getElementById("time");
                            x.innerHTML = '<span style="color : #f8f8f8;">' + time + '</span><span style="color : #f8f8f8; font-size:20px;">' + ampm + '</span>';
                            setTimeout(updateClock, 1000);
                        }
                        updateClock();
                    </script>
                </div>
                <div id="events-today" align="center">
                    <span style="text-align: left">Today</span>
                    <div id="events-today-events-list">
                    </div>
                    <script>
                        get_events_list(document.getElementById("events-today"));
                    </script>
                </div>
            </div>
        </td>
        <td id="calendar_tab" width="85%" style="padding-left: 50px; padding-right: 50px;">
            <table id="calendar" style="height: 100%;">
            <tr class="header">
              <th id="calendarHeader" class="no-border-left no-border-right no-border-top" colspan="7">
                <div>
                    <a href="" onclick="addYears(event, -1); return false;" style="color:#2ed39e">
                        <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                    </a>
                    <a href="" onclick="addMonths(event, -1); return false;" style="color:#2ed39e">
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                    </a>
                    <a href="" onclick="targetDate = new Date(); setCalendar(event); return false;" style="color:#2ed39e">
                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                    </a>
                    <a href="" onclick="addMonths(event, 1); return false;" style="color:#2ed39e">
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
                    <a href="" onclick="addYears(event, 1); return false;" style="color:#2ed39e">
                        <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                    </a>
                </div>
              </th>
            </tr>
            <tr class="days">
              <th>Sunday</th>
              <th>Monday</th>
              <th>Tuesday</th>
              <th>Wednesday</th>
              <th>Thursday</th>
              <th>Friday</th>
              <th>Saturday</th>
            </tr>
            <tr>
              <td class="no-border-left"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 1); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 2); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 3); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 4); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 5); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 6); return false;">&nbsp;</a></td>
              <td class="no-border-right"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 1, 7); return false;">&nbsp;</a></td>
            </tr>
            <tr>
              <td class="no-border-left"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 1); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 2); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 3); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 4); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 5); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 6); return false;">&nbsp;</a></td>
              <td class="no-border-right"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 2, 7); return false;">&nbsp;</a></td>
            </tr>
            <tr>
              <td class="no-border-left"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 1); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 2); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 3); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 4); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 5); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 6); return false;">&nbsp;</a></td>
              <td class="no-border-right"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 3, 7); return false;">&nbsp;</a></td>
            </tr>
            <tr>
              <td class="no-border-left"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 1); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 2); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 3); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 4); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 5); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 6); return false;">&nbsp;</a></td>
              <td class="no-border-right"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 4, 7); return false;">&nbsp;</a></td>
            </tr>
            <tr>
              <td class="no-border-left"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 1); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 2); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 3); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 4); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 5); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 6); return false;">&nbsp;</a></td>
              <td class="no-border-right"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 5, 7); return false;">&nbsp;</a></td>
            </tr>
            <tr>
              <td class="no-border-left"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 1); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 2); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 3); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 4); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 5); return false;">&nbsp;</a></td>
              <td><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 6); return false;">&nbsp;</a></td>
              <td class="no-border-right"><a class="date-link" href="" onclick="setTargetDate(event, this); new_event_form_position(this, 6, 7); return false;">&nbsp;</a></td>
            </tr>
            </table>
        </td>
    </tr>
</table>
<div id="new-event-form" class="hidden" style="border: #ff8787 1px solid; width:250px; border-radius: 2px; padding: 10px;">
    <div style="color:#ff8787;padding:10px 0 20px; 0; font-family: arial;">
        <span id="current-date"></span>
        <span id="form-close" onclick="close_form()" style="float: right; color: #b3b3b3; cursor: pointer;">x</span>
    </div>
    <form id="new_form" action="/create" method="POST">
        <input type="text" placeholder="Event Name" style="font-size: 20px;padding: 5px; width:235px;" /><br/>
        <span style="padding-left: 10px; color: #b3b3b3; font-family: arial; font-size: 15px;"> Starts </span><br/>
        <input id="start-date" type="date" data-date-inline-picker="true" style="width: 148px; padding: 5px;  " /><input id="start-time" type="time" style="width: 70px; margin-left: 5px; padding: 5px;" /><br/>
        <span style="padding-left: 10px; color: #b3b3b3;font-family: arial; font-size: 15px;"> Ends </span><br/>
        <input id="end-date" type="date" data-date-inline-picker="true" style="width: 148px; padding: 5px;  " /><input id="end-time" type="time" style="width: 70px; margin-left: 5px; padding: 5px;" /><br/>
        <input type="checkbox" id="all-day-check" /> <span style=" color: #b3b3b3;font-family: arial;"> All Day </span><br/>
        <span style="font-family: arial; color: #b3b3b3; font-size: 15px;">Description</span>  <br/>
        <textarea style="width: 235px; height: 100px; font-family: arial; padding: 5px;" ></textarea> <br/> <br />
        <div class="button button-cancel" onclick="close_form()" id="new-event-form-cancel">Cancel</div> &nbsp;&nbsp;&nbsp;&nbsp;<div onclick="close_form();" class="button button-submit">Save</div>
    </form>
    <br>
</div>
</body>
 <script src="./../js/calendar.js"></script>

 <script>
     $('.date-link').click(function() {
         $('#new-event-form').addClass("visible");
         $('#new-event-form').removeClass("hidden");
     });
     $('#new-event-form-cancel').click(function(){
         $(this).closest('form').find("input, textarea").val("");
         $(this).closest('form').find("input[type=date], input[type=time]").prop('disabled', false);
         $(this).closest('form').find("input[type=checkbox]").prop("checked", false);
     });
     $("#all-day-check").change(function() {
         if($(this).is(":checked")) {
             $("#start-date").prop('disabled', true);
             $("#start-time").prop('disabled', true);
             $("#end-date").prop('disabled', true);
             $("#end-time").prop('disabled', true);
         }
         if(!$(this).is(":checked")) {
             $("#start-date").prop('disabled', false);
             $("#start-time").prop('disabled', false);
             $("#end-date").prop('disabled', false);
             $("#end-time").prop('disabled', false);
         }
     });
 </script>
<script type="text/javascript">
    function new_event_form_position(obj, row, column) {
        document.getElementById("new_form").reset();
        var new_event_form_object;
        new_event_form_object = document.getElementById("new-event-form");
        new_event_form_object.className = "visible";
        var x = obj.getBoundingClientRect();
        new_event_form_object.style.setProperty("top", x.top + "px");
        new_event_form_object.style.setProperty("left", x.left + "px");
        var current_date_element = document.getElementById("current-date");
        var d = new Date();
        var numtoday = {1:"Sunday", 2:"Monday", 3:"Tuesday", 4:"Wednesday", 5:"Thursday", 6:"Friday", 7:"Saturday"};
        var s = numtoday[column] + ", ";
        s += obj.innerHTML + " ";
        s += d.getMonthName() + " ";
        s += d.getFullYear();
        current_date_element.innerHTML = s;
    }
    function close_form() {
        new_event_form_object = document.getElementById("new-event-form");
        document.getElementById("new_form").reset();
        new_event_form_object.className = "hidden";
    }
</script>
</html>
